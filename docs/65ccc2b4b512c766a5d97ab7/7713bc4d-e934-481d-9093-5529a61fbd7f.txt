Opens in a new window Opens an external website Opens an external website in a
new window
<!---->Close this dialog<!---->
This website utilizes technologies such as cookies to enable essential site
functionality, as well as for analytics, personalization, and targeted
advertising purposes. To learn more, view the following link:



<!---->Close Cookie Preferences<!---->


v1v2

--------------------------------------------------------------------------------

Guides

v2

Ctrl+K
Understanding hybrid search
All
Guides
Reference
Pages

START TYPING TO SEARCH…


GETTING STARTED

 * 
 * 
 * 
 * 
 * 


ORGANIZATIONS

 * 
 * * 
   * 
   * 
   * 
   * 
 * * 
   * 
   * 


PROJECTS

 * 
 * 
 * 
 * 
 * 


INDEXES

 * 
 * 
 * 
 * 
 * 
 * 
 * 


DATA

 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * * 
   * 
   * 
   * 
 * * 
   * 


OPERATIONS

 * 
 * 
 * 
 * 
 * 


INTEGRATIONS

 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 
 * 


REFERENCE

 * 
 * 
 * 
 * 
 * 
 * 


SUPPORT

 * 
 * 
 * 


UNDERSTANDING HYBRID SEARCH



Pinecone supports vectors with sparse and dense values, which allows you to
perform hybrid search on your Pinecone index. Hybrid search combines semantic
and keyword search in one query for more relevant results. Semantic search
results for out-of-domain queries can be less relevant; . This topic describes
how hybrid search with sparse-dense vectors works in Pinecone.

To see sparse-dense embeddings in action, see the .


> ⚠️
> 
> WARNING
> 
> Hybrid search is in public preview. Consider the and , and test thoroughly
> before using it in production.


HYBRID SEARCH IN PINECONE

In Pinecone, you perform hybrid search with sparse-dense vectors. Sparse-dense
vectors combine as a single vector. Sparse and dense vectors represent different
types of information and enable distinct kinds of search.


DENSE VECTORS

The basic vector type in Pinecone is a . Dense vectors enable semantic search.
Semantic search returns the most similar results according to a specific
distance metric even if no exact matches are present. This is possible because
dense vectors generated by embedding models such as are numerical
representations of semantic meaning.


SPARSE VECTORS

Sparse vectors have very large number of dimensions, where only a small
proportion of values are non-zero. When used for keywords search, each sparse
vector represents a document; the dimensions represent words from a dictionary,
and the values represent the importance of these words in the document. Keyword
search algorithms like the algorithm compute the relevance of text documents
based on the number of keyword matches, their frequency, and other factors.


SPARSE-DENSE WORKFLOW

Using sparse-dense vectors involves the following general steps:

 1. Create dense vectors using an external embedding model.
 2. .
 3. with the dotproduct .
 4. .
 5. .
 6. Pinecone returns sparse-dense vectors.


CONSIDERATIONS FOR SERVERLESS INDEXES

The implementation of hybrid search is meaningfully different between pod-based
and serverless indexes. If you switch from one to the other, you may experience
a regression in accuracy or performance.

When you query a serverless index, the dense value of the query is used to
retrieve the initial candidate records, and then the sparse value is considered
when returning the final results. This process can affect performance in cases
where records contain dense and sparse values that are from different data
representations (e.g., image and text) or are otherwise not strongly correlated.


LIMITATIONS

Pinecone sparse-dense vectors have the following limitations:

 * Records with sparse vector values must also contain dense vector values.

 * Sparse vector values can contain up to 1000 non-zero values and 4.2 billion
   dimensions.

 * Only indexes using the support sparse-dense vectors.
   
   Upserting sparse-dense vectors into these index types with a different
   distance metric, or into different index types will succeed, but querying
   will return an error.

 * Indexes created before February 22, 2023 do not support sparse vectors.


SEE ALSO

 * 
 * 
 * 
 * 

Updated 27 days ago

--------------------------------------------------------------------------------


Did this page help you?
Yes
No
 * 
 * * * 
     * 
   * 
   * 
   * 
   * 







Pinecone [https://pinecone.io/images/pinecone-white.svg]
 * 
 * 
 * 
 * 
 * 
 * 

© Pinecone Systems, Inc. | San Francisco, CA | | | | | |

Pinecone is a registered trademark of Pinecone Systems, Inc.


